# Installing ForkBase Dependencies #This documentation shows the key compilation commands and environment variable settings for installing ForkBase dependencies. All the dependencies are installed through the corresponding source-code releases. Generally, in order to install a dependency, you need to 1. download the source code package (`.gz`, `.bz2` or `.zip`), 2. unzip the package, 3. go to the unzipped folder (i.e., root of the source code),4. run the compilation commands listed below, and 5. configure environment variables in `~/.profile` or `~/.bash_profile`. Some common dependencies can be easily resolved by using the package management utility shipped along with the Linux distribution, such as `apt` in Ubuntu and `yum` in RHEL/CentOS/Fedora. Or, you may alternatively install those dependencies via source code. The following commands and settings have been manually verified on Ubuntu 16.04 and Fedora 28. There may exist slight difference (e.g., names of packages provided by the package manager) on other Linux distributions. But the overall compilation commands as well as the environment variable settings should be compatible.  ## Preparation ###### Installing Compilation Tools ####Ubuntu:    $ sudo apt install build-essentialRHEL/CentOS/Fedora:    $ sudo yum group install "Development Tools" "C Development Tools and Libraries"#### Setting Environment Variables ####    export SHARE_HOME="/path/to/dependency/share"    export NCORES="$(cat /proc/cpuinfo | grep "cpu cores" | uniq | awk '{print $NF}')"Note that the parallelism of compilation is set to the number of CPU cores by default, as defined in the `NCORES` environment variable. You may change it to any parallelism as you want. ## Core ##### [CMake](https://cmake.org/download/) ####### <a name='cmake-install'>Installation</a> ####    $ ./bootstrap --prefix=$SHARE_HOME/cmake && make -j$NCORES && make install#### Setting Environment Variables ####     # CMake    export CMAKE_HOME="$SHARE_HOME/cmake"    export PATH="$CMAKE_HOME/bin:$PATH"### [OpenSSL](https://www.openssl.org/source/) ###    $ sudo apt install openssl***[TODO]*** *Need to figure out how to install OpenSSL via source code.* ### [Boost](https://www.boost.org/users/download/) ####### Installation ####    $ ./bootstrap.sh --prefix=$SHARE_HOME/boost && ./b2 install -j $NCORES#### Setting Environment Variables ####     # Boost    export BOOST_ROOT="$SHARE_HOME/boost"    export CPATH="$BOOST_ROOT/include:$CPATH"    export LD_LIBRARY_PATH="$BOOST_ROOT/lib:$LD_LIBRARY_PATH"    export LIBRARY_PATH="$BOOST_ROOT/lib:$LIBRARY_PATH"### [gflags](https://github.com/gflags/gflags/releases) ####### Installation ####    $ mkdir -p build && rm -rf build/* && cd build && cmake -DCMAKE_INSTALL_PREFIX=$SHARE_HOME/gflags -DBUILD_SHARED_LIBS=ON -DBUILD_STATIC_LIBS=ON .. && make -j$NCORES && make install#### Setting Environment Variables ####     # gflags    export GFLAGS_ROOT="$SHARE_HOME/gflags"    export CPATH="$GFLAGS_ROOT/include:$CPATH"    export LD_LIBRARY_PATH="$GFLAGS_ROOT/lib:$LD_LIBRARY_PATH"    export LIBRARY_PATH="$GFLAGS_ROOT/lib:$LIBRARY_PATH"    export CMAKE_INCLUDE_PATH="$GFLAGS_ROOT/include:$CMAKE_INCLUDE_PATH"    export CMAKE_LIBRARY_PATH="$GFLAGS_ROOT/lib:$CMAKE_LIBRARY_PATH"### [Protocol Buffers](https://github.com/google/protobuf/releases/) ####### Installation ####    $ ./autogen.sh && ./configure --prefix=$SHARE_HOME/protobuf && make -j$NCORES && make install #### Setting Environment Variables ####     # Protocol Buffers    export PROTOBUF_ROOT="$SHARE_HOME/protobuf"    export PATH="$PROTOBUF_ROOT/bin:$PATH"    export CPATH="$PROTOBUF_ROOT/include:$CPATH"    export LD_LIBRARY_PATH="$PROTOBUF_ROOT/lib:$LD_LIBRARY_PATH"    export LIBRARY_PATH="$PROTOBUF_ROOT/lib:$LIBRARY_PATH"    export CMAKE_INCLUDE_PATH="$PROTOBUF_ROOT/include:$CMAKE_INCLUDE_PATH"    export CMAKE_LIBRARY_PATH="$PROTOBUF_ROOT/lib:$CMAKE_LIBRARY_PATH"### [Crypto++](https://www.cryptopp.com/#download) ####### Installation ####    $ make -j$NCORES libcryptopp.a libcryptopp.so && make install PREFIX=$SHARE_HOME/cryptopp#### Setting Environment Variables ####    # Crypto++    export CRYPTOPP_ROOT="$SHARE_HOME/cryptopp"    export CPATH="$CRYPTOPP_ROOT/include:$CPATH"    export LD_LIBRARY_PATH="$CRYPTOPP_ROOT/lib:$LD_LIBRARY_PATH"    export LIBRARY_PATH="$CRYPTOPP_ROOT/lib:$LIBRARY_PATH"    export CMAKE_INCLUDE_PATH="$CRYPTOPP_ROOT/include:$CMAKE_INCLUDE_PATH"    export CMAKE_LIBRARY_PATH="$CRYPTOPP_ROOT/lib:$CMAKE_LIBRARY_PATH"### [ZMQ](https://github.com/zeromq/libzmq/releases) ####### Installation ####    $ ./autogen.sh && ./configure --prefix=$SHARE_HOME/zmq && make -j$NCORES && make install#### Setting Environment Variables ####    # ZMQ    export ZMQ_ROOT="$SHARE_HOME/zmq"    export CPATH="$ZMQ_ROOT/include:$CPATH"    export LD_LIBRARY_PATH="$ZMQ_ROOT/lib:$LD_LIBRARY_PATH"    export LIBRARY_PATH="$ZMQ_ROOT/lib:$LIBRARY_PATH"    export CMAKE_INCLUDE_PATH="$ZMQ_ROOT/include:$CMAKE_INCLUDE_PATH"    export CMAKE_LIBRARY_PATH="$ZMQ_ROOT/lib:$CMAKE_LIBRARY_PATH"### [CZMQ](https://github.com/zeromq/czmq/releases) ####### Installation ####    $ ./autogen.sh && ./configure --prefix=$SHARE_HOME/czmq && make -j$NCORES && make install#### Setting Environment Variables ####     # CZMQ    export CZMQ_ROOT="$SHARE_HOME/czmq"    export CPATH="$CZMQ_ROOT/include:$CPATH"    export LD_LIBRARY_PATH="$CZMQ_ROOT/lib:$LD_LIBRARY_PATH"    export LIBRARY_PATH="$CZMQ_ROOT/lib:$LIBRARY_PATH"    export CMAKE_INCLUDE_PATH="$CZMQ_ROOT/include:$CMAKE_INCLUDE_PATH"    export CMAKE_LIBRARY_PATH="$CZMQ_ROOT/lib:$CMAKE_LIBRARY_PATH"### [RocksDB](https://github.com/facebook/rocksdb/releases) ###Ubuntu:    $ sudo apt install libsnappy-dev zlib1g-dev libbz2-dev liblz4-dev libzstd-devRHEL/CentOS/Fedora:    $ sudo yum install snappy snappy-devel zlib zlib-devel bzip2 bzip2-devel lz4-devel libzstd-devel#### Installation ####    $ USE_RTTI=1 DISABLE_WARNING_AS_ERROR=ON bash -c 'make -j$NCORES shared_lib' && INSTALL_PATH=$SHARE_HOME/rocksdb bash -c 'make install-shared'#### Setting Environment Variables ####     # RocksDB    export ROCKSDB_ROOT="$SHARE_HOME/rocksdb"    export CPATH="$ROCKSDB_ROOT/include:$CPATH"    export LD_LIBRARY_PATH="$ROCKSDB_ROOT/lib:$LD_LIBRARY_PATH"    export LIBRARY_PATH="$ROCKSDB_ROOT/lib:$LIBRARY_PATH"    export CMAKE_INCLUDE_PATH="$ROCKSDB_ROOT/include:$CMAKE_INCLUDE_PATH"    export CMAKE_LIBRARY_PATH="$ROCKSDB_ROOT/lib:$CMAKE_LIBRARY_PATH"## Optional ##### [JDK](http://www.oracle.com/technetwork/java/javase/downloads/index.html) ####### Setting Environment Variables ####     # JDK    export JAVA_VER=10.0.1    export JAVA_HOME=$SHARE_HOME/java/jdk-$JAVA_VER    export PATH=$JAVA_HOME/bin:$PATHYou should change `JAVA_VER` according to your downloaded version.### [Maven](https://maven.apache.org/download.cgi) ####### Setting Environment Variables ####     # Maven    export MAVEN_VER=3.5.4    export MAVEN_HOME=$SHARE_HOME/maven/apache-maven-$MAVEN_VER    export PATH=$MAVEN_HOME/bin:$PATHYou should change `MAVEN_VER` according to your downloaded version.